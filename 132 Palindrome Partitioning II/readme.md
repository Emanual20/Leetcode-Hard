一些模板：

1. 对于一个给定字符串，求解最长子回文串，manacher，$O(n)$
2. 对于一个给定字符串，求解所有字串是否为回文串，dp，$O(n^2)$

本题应用第二个模板首先打表。

最后从头枚举分割点即可。